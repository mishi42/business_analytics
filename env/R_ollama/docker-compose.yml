version: "3.7"
services:
  rstudio:
    image: rocker/tidyverse
    #container_name: rocker_bis
    #build :
    #   context: .
    #   dockerfile: ./rstudio.dockerfile
    environment:
      - USERNAME=rstudio
      - PASSWORD=rstudio1234
      - TZ=Asia/Tokyo
    ports:
      - 8787:8787
    #volumes:
    #  - ./mnt:/mnt
    #working_dir: /work
    tty: true
    restart: always
    depends_on:
      - ollama
    networks:
      - r_ollama_net

  ollama:
    image: ollama/ollama
    ports:
      - 11434:11434
    tty: true
    restart: always
    networks:
      - r_ollama_net

networks:
  r_ollama_net:
    driver: bridge


